#  _______ __  __ _    ___   __
# |__   __|  \/  | |  | \ \ / /
#    | |  | \  / | |  | |\ V / 
#    | |  | |\/| | |  | | > <  
#    | |  | |  | | |__| |/ . \ 
#    |_|  |_|  |_|\____//_/ \_\
# https://github.com/tmux/tmux

#==================================================#
#                  plugin manager                  #
#==================================================#
# Check if the TPM directory exists
if-shell "[ ! -d ~/.config/tmux/plugins/tpm ]" \
  "run-shell ' \
    mkdir -p ~/.config/tmux/plugins && \
    git clone https://github.com/tmux-plugins/tpm ~/.config/tmux/plugins/tpm && \
    sleep 2 && \
    tmux source-file ~/.config/tmux/tmux.conf \
  '" \
# "display-message 'TPM is already installed.'"

set -g @plugin "tmux-plugins/tpm"

#==================================================#
#                      plugin                      #
#==================================================#
# https://github.com/tmux-plugins/tmux-sensible
set -g @plugin "tmux-plugins/tmux-sensible"         	# require for many plugins, otherwise none of plugins will work

#==================================================#
#                  plugin setting                  #
#==================================================#
# https://github.com/tmux-plugins/tmux-sensible?tab=readme-ov-file#options
# set -g default-terminal "xterm-256color"
# set -g terminal-features ",xterm*:256:RGB:extkeys:clipboard:ccolour:cstyle:mouse:focus:hyperlinks:usstyle:strikethrough:overline"
# set -g terminal-features ",xterm*:256:RGB:extkeys:ccolour:cstyle:mouse:focus:hyperlinks:usstyle:strikethrough:overline"
# set -g terminal-overrides ",*:" set -gw pane-border-lines single	# pane separation border line
set -gw pane-border-indicators off	# pane separation border style
set -gs base-index 1	# window starting index
set -gw pane-base-index 1 # pane starting index
set -gs history-limit 10000 # maximum number of line held in window history
set -gs escape-time 0 # reduce delay after pressing tmux prefix
set -gs repeat-time 2000	# allow press multiple commands without press again prefix
set -gs renumber-windows on # renumber widnows for maintains order after close window
set -gs mouse on	# enable mouse access
set -gs display-time 5000 # display tmux any message in milliseconds
set -gs status-interval 1 # updates status-line every in seconds
set -gs status-justify left # set window number and name to center of status-line
set -gs status-position top # status-line position
set -gw automatic-rename on # automatic widnow name based on workflow
set -gs display-panes-time 5000 # showing status message time in milliseconds
set -gs mode-keys vi  # enable copy mode similer like vim
set -gq allow-passthrough on  # nvim plugin config - folke/zen-mode
set -g  status-style bg=default # set status bar transparent
set -gs extended-keys always # allows special keys (ex: shift+enter and many more)
# set -gs extended-keys-format csi-u # Use xterm format for extended keys (e.g., F-keys).
# set -gs set-clipboard on # Use system clipboard for copy-pasting in tmux.

# set -s extended-keys on
# set -as terminal-features 'xterm*:extkeys'
# set -gq allow-passthrough on
# set extended-keys-format csi-u


#==================================================#
#                      theme                       #
#==================================================#
# https://github.com/thoreinstein/gruvbox-tmux
# https://github.com/catppuccin/tmux
# https://github.com/dracula/tmux
# https://github.com/erikw/tmux-powerline
# https://github.com/janoamaral/tokyo-night-tmux

# gruvbox, catppuccin, dracula, powerline, tokyonight
source-file ~/.config/tmux/theme/gruvbox.tmux

#==================================================#
#                      keybind                      #
#==================================================#
source-file ~/.config/tmux/keybind/main.tmux

#==================================================# 
#                  session plugin                  #
#==================================================# 
# need to plut it at the bottom of the file
# https://github.com/tmux-plugins/tmux-resurrect
# https://github.com/tmux-plugins/tmux-continuum
set -g @plugin "tmux-plugins/tmux-resurrect"        	# enables tmux session after computer restart
set -g @plugin "tmux-plugins/tmux-continuum"        	# automatically saves sessions
# set -g @resurrect-dir "~/.local/share/tmux/resurrect" 	# current session saving directory
# set -g @resurrect-capture-pane-contents "on"
set -g @resurrect-save "S"                            	# save session with S-s
set -g @resurrect-restore "R"                         	# restore session with S-r
# set -g @continuum-save-interval "5"                  	# save session every 5 minutes

#==================================================# 
#                run plugin manager                #
#==================================================# 
run -b '~/.config/tmux/plugins/tpm/tpm'
